(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{5490:function(e,l,i){Promise.resolve().then(i.bind(i,7877)),Promise.resolve().then(i.t.bind(i,5250,23))},7877:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return t}});var n=i(3827),s=i(4090),r=i(8792),a=i(2602),c=i(4332);function t(e){let{profile:l,username:i,publicUrl:t}=e,o=(0,s.useRef)(null),[u,d]=(0,s.useState)(!1),f=!l,p=(0,s.useCallback)(()=>{navigator.clipboard.writeText(t).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},[t]),h=(0,s.useCallback)(()=>{var e;let l=null===(e=o.current)||void 0===e?void 0:e.querySelector("svg");if(!l)return;let n=new XMLSerializer().serializeToString(l),s=document.createElement("canvas"),r=s.getContext("2d");if(!r)return;let a=new Image;a.onload=()=>{s.width=a.width,s.height=a.height,r.drawImage(a,0,0);let e=document.createElement("a");e.download="qr-".concat(i,".png"),e.href=s.toDataURL("image/png"),e.click()},a.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n)))},[i]),m=(null==l?void 0:l.display_name)||(null==l?void 0:l.username)||i||"Profile",b=(null==l?void 0:l.username)||i;return(0,n.jsx)("div",{className:"publicProfileShell",children:(0,n.jsxs)("div",{className:"publicProfileCard",children:[(0,n.jsx)("div",{className:"publicProfileQRWrap",ref:o,children:(0,n.jsx)("div",{className:"publicProfileQRInner",children:(0,n.jsx)(a.ZP,{value:t,size:200,level:"M"})})}),(0,n.jsx)("h1",{className:"publicProfileTitle",children:m}),b&&(0,n.jsxs)("p",{className:"publicProfileHandle",children:["@",b]}),(null==l?void 0:l.bio)?(0,n.jsx)("p",{className:"publicProfileBio",children:l.bio}):f?(0,n.jsx)("p",{className:"publicProfileEmptyMessage",children:"Profile coming soon"}):null,(0,n.jsx)("div",{className:"publicProfileLinks",children:f?c.$.slice(0,6).map(e=>{let{key:l,label:i,Icon:s}=e;return(0,n.jsxs)("div",{className:"publicProfileLinkItem publicProfileLinkItem--disabled",children:[(0,n.jsx)("span",{className:"publicProfileLinkIcon",children:(0,n.jsx)(s,{size:20})}),(0,n.jsx)("span",{children:i}),(0,n.jsx)("span",{className:"publicProfileLinkPlaceholder",children:"Not set yet"})]},l)}):null}),(0,n.jsxs)("div",{className:"publicProfileActions",children:[(0,n.jsx)("button",{type:"button",onClick:p,className:"publicProfileBtn publicProfileBtn--secondary",children:u?"Copied!":"Share"}),(0,n.jsx)("button",{type:"button",onClick:h,className:"publicProfileBtn publicProfileBtn--secondary",children:"Download QR"})]}),(0,n.jsxs)("div",{className:"publicProfileCTAs",children:[(0,n.jsx)(r.default,{href:"/auth",className:"publicProfileBtn publicProfileBtn--primary",children:"Create your own QR profile"}),(0,n.jsx)(r.default,{href:"/",className:"publicProfileBtn publicProfileBtn--ghost",children:"Back to home"})]})]})})}},8792:function(e,l,i){"use strict";i.d(l,{default:function(){return s.a}});var n=i(5250),s=i.n(n)}},function(e){e.O(0,[250,602,332,971,69,744],function(){return e(e.s=5490)}),_N_E=e.O()}]);