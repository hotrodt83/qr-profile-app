(()=>{var e={};e.id=231,e.ids=[231],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3879:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var l=a(482),r=a(9108),i=a(2563),s=a.n(i),n=a(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7731)),"/Users/majdismail/qr-app/app/edit/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2917)),"/Users/majdismail/qr-app/app/layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,7984)),"/Users/majdismail/qr-app/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,1429)),"/Users/majdismail/qr-app/app/not-found.tsx"]}],c=["/Users/majdismail/qr-app/app/edit/page.tsx"],u="/edit/page",h={require:a,loadChunk:()=>Promise.resolve()},p=new l.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/edit/page",pathname:"/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7736:(e,t,a)=>{Promise.resolve().then(a.bind(a,7236))},1066:()=>{},8596:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},6013:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,1476,23))},5303:()=>{},7236:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(5344),r=a(3729),i=a(6506),s=a(8428),n=a(6234);async function o(e,t){let{data:a,error:l}=await e.from("profiles").select("id,username,whatsapp,facebook,instagram,tiktok,telegram,linkedin,email,phone,x,website,updated_at").eq("id",t).maybeSingle();return l?null:a}async function d(e,t,a){let l={id:t,...a,updated_at:new Date().toISOString()};return e.from("profiles").upsert(l,{onConflict:"id"}).select().maybeSingle()}var c=a(4408);function u(){let e={username:""};return c.$.forEach(({key:t})=>{e[t]=""}),e}function h(){let e=(0,s.useRouter)(),t=(0,r.useMemo)(()=>{try{return(0,n.A)()}catch{return null}},[]),[a,h]=(0,r.useState)(null),[p,m]=(0,r.useState)(!0),[b,x]=(0,r.useState)(!1),[y,g]=(0,r.useState)(null),[f,k]=(0,r.useState)(u),[v,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!t){k(u()),m(!1);return}let a=!1;return(async()=>{try{let{data:{user:l}}=await t.auth.getUser();if(a)return;if(!l){m(!1),e.replace("/auth");return}h(l.id);let r=null;try{r=await o(t,l.id)}catch{}if(a)return;if(r){let e={username:null!=r.username?String(r.username):""};c.$.forEach(({key:t})=>{let a=r[t];e[t]=null!=a?String(a):""}),k(e)}else k(u())}catch(e){if(a)return;j(e instanceof Error?e.message:"Something went wrong."),k(u())}finally{a||m(!1)}})(),()=>{a=!0}},[e,t]);let w=null===t,N=!!(t&&a);async function U(e){if(e.preventDefault(),!N)return;x(!0),g(null);let l={username:f.username?.trim()||null};c.$.forEach(({key:e})=>{let t=f[e]?.trim();l[e]=""===t?null:t});let{error:r}=await d(t,a,l);if(x(!1),r){g("Error saving. Try again.");return}g("Saved"),setTimeout(()=>g(null),2500)}return p?l.jsx("main",{className:"edit-page",children:l.jsx("div",{className:"edit-inner",children:l.jsx("p",{style:{color:"rgba(255,255,255,0.7)"},children:"Loading…"})})}):w||a||v?!w&&v?l.jsx("main",{className:"edit-page",children:(0,l.jsxs)("div",{className:"edit-inner",children:[l.jsx("p",{style:{color:"rgba(255,255,255,0.9)",marginBottom:8},children:"Could not load session"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:14,marginBottom:16},children:v}),l.jsx(i.default,{href:"/auth",className:"edit-back",children:"Sign in"}),l.jsx("span",{style:{margin:"0 8px"},children:"\xb7"}),l.jsx(i.default,{href:"/",className:"edit-back",children:"Back to home"})]})}):l.jsx("main",{className:"edit-page",children:(0,l.jsxs)("div",{className:"edit-inner",children:[w&&(0,l.jsxs)("div",{className:"edit-banner",role:"alert",children:[l.jsx("strong",{children:"Supabase not configured."})," Copy ",l.jsx("code",{children:".env.example"})," to ",l.jsx("code",{children:".env.local"})," and add your ",l.jsx("code",{children:"NEXT_PUBLIC_SUPABASE_URL"})," and ",l.jsx("code",{children:"NEXT_PUBLIC_SUPABASE_ANON_KEY"})," to sign in and save."]}),l.jsx("h1",{className:"edit-title",children:"Edit your links"}),l.jsx("p",{className:"edit-subtitle",children:"Add your social and contact links. They will appear on your public QR profile."}),(0,l.jsxs)("form",{onSubmit:U,className:"edit-form",children:[(0,l.jsxs)("div",{className:"edit-grid",children:[(0,l.jsxs)("div",{className:"edit-row",children:[l.jsx("span",{className:"edit-icon","aria-hidden":!0}),l.jsx("label",{className:"edit-label",htmlFor:"username",children:"Username"}),l.jsx("input",{id:"username",type:"text",placeholder:"for /u/username",value:f.username??"",onChange:e=>k(t=>({...t,username:e.target.value})),className:"edit-input",autoComplete:"off"})]}),c.$.map(({key:e,label:t,placeholder:a,Icon:r})=>(0,l.jsxs)("div",{className:"edit-row",children:[l.jsx("span",{className:"edit-icon","aria-hidden":!0,children:l.jsx(r,{size:20,className:"edit-icon-svg"})}),l.jsx("label",{className:"edit-label",htmlFor:e,children:t}),l.jsx("input",{id:e,type:"text",placeholder:a,value:f[e]??"",onChange:t=>k(a=>({...a,[e]:t.target.value})),className:"edit-input",autoComplete:"off"})]},e))]}),(0,l.jsxs)("div",{className:"edit-actions",children:[l.jsx("button",{type:"submit",disabled:b||!N,className:"edit-save",children:b?"Saving…":w?"Save (sign in required)":"Save"}),y&&l.jsx("span",{className:"edit-toast",children:y})]})]}),l.jsx(i.default,{href:"/",className:"edit-back",children:"← Back to home"})]})}):l.jsx("main",{className:"edit-page",children:(0,l.jsxs)("div",{className:"edit-inner",children:[l.jsx("p",{style:{color:"rgba(255,255,255,0.7)",marginBottom:16},children:"Redirecting to sign in…"}),l.jsx(i.default,{href:"/auth",className:"edit-back",children:"Go to sign in"})]})})}},4408:(e,t,a)=>{"use strict";a.d(t,{$:()=>x});var l=a(5344);a(3729);var r=a(5851),i=a(3592),s=a(3632),n=a(6135),o=a(8416),d=a(1206),c=a(626),u=a(304);let h=e=>e.replace(/^@+/,"").trim(),p=e=>e.replace(/\D/g,""),m=[{key:"phone",label:"Phone",placeholder:"+1 555 555 555",buildUrl:e=>`tel:${p(e)}`},{key:"email",label:"Email",placeholder:"name@email.com",buildUrl:e=>`mailto:${e}`},{key:"website",label:"Website",placeholder:"your-site.com",normalize:e=>e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`,buildUrl:e=>e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`},{key:"whatsapp",label:"WhatsApp",placeholder:"+9715xxxxxxx",buildUrl:e=>`https://wa.me/${p(e)}`},{key:"instagram",label:"Instagram",placeholder:"@username",normalize:h,buildUrl:e=>`https://instagram.com/${h(e)}`},{key:"facebook",label:"Facebook",placeholder:"profile name",buildUrl:e=>`https://facebook.com/${h(e)}`},{key:"telegram",label:"Telegram",placeholder:"@username",normalize:h,buildUrl:e=>`https://t.me/${h(e)}`},{key:"linkedin",label:"LinkedIn",placeholder:"in/username",buildUrl:e=>`https://linkedin.com/in/${h(e)}`},{key:"x",label:"X (Twitter)",placeholder:"@username",normalize:h,buildUrl:e=>`https://x.com/${h(e)}`},{key:"youtube",label:"YouTube",placeholder:"@channel",buildUrl:e=>e.startsWith("http")?e:`https://youtube.com/${h(e)}`},{key:"tiktok",label:"TikTok",placeholder:"@username",normalize:h,buildUrl:e=>`https://tiktok.com/@${h(e)}`},{key:"messenger",label:"Messenger",placeholder:"username",buildUrl:e=>`https://m.me/${h(e)}`},{key:"discord",label:"Discord",placeholder:"username",buildUrl:e=>`https://discord.com/users/${e}`},{key:"snapchat",label:"Snapchat",placeholder:"username",buildUrl:e=>`https://snapchat.com/add/${h(e)}`},{key:"reddit",label:"Reddit",placeholder:"u/username",buildUrl:e=>`https://reddit.com/user/${h(e)}`},{key:"signal",label:"Signal",placeholder:"number",buildUrl:e=>`https://signal.me/#p/${p(e)}`},{key:"pinterest",label:"Pinterest",placeholder:"username",buildUrl:e=>`https://pinterest.com/${h(e)}`},{key:"threads",label:"Threads",placeholder:"@username",normalize:h,buildUrl:e=>`https://www.threads.net/@${h(e)}`},{key:"viber",label:"Viber",placeholder:"number",buildUrl:e=>`viber://chat?number=${p(e)}`},{key:"line",label:"LINE",placeholder:"line id",buildUrl:e=>`https://line.me/R/ti/p/~${h(e)}`},{key:"wechat",label:"WeChat",placeholder:"wechat id",buildUrl:e=>`weixin://dl/chat?${h(e)}`}],b=new Map(m.map(e=>[e.key,e]));m.map(e=>e.key),Object.fromEntries(m.map(e=>[e.key,{label:e.label,placeholder:e.placeholder,inputType:"email"===e.key?"email":"phone"===e.key?"tel":"website"===e.key?"url":"text",urlTemplate:t=>{let a=e.normalize?e.normalize(t):t;return e.buildUrl(a)},action:"phone"===e.key?"tel":"email"===e.key?"mailto":"url"}]));let x=[{key:"whatsapp",label:"WhatsApp",placeholder:b.get("whatsapp")?.placeholder??"+9715xxxxxxx",Icon:function({size:e=22,className:t=""}){return l.jsx(r.Z,{size:e,className:t})}},{key:"facebook",label:"Facebook",placeholder:b.get("facebook")?.placeholder??"profile name",Icon:i.Z},{key:"instagram",label:"IG",placeholder:b.get("instagram")?.placeholder??"@username",Icon:s.Z},{key:"tiktok",label:"TikTok",placeholder:b.get("tiktok")?.placeholder??"@username",Icon:function({size:e=22,className:t=""}){return l.jsx("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",className:t,"aria-hidden":"true",children:l.jsx("path",{d:"M30 8c.7 6.2 5 10.2 10 10.6v5.4c-3.7-.1-7-1.3-10-3.5V31c0 7.2-5.8 13-13 13S4 38.2 4 31s5.8-13 13-13c.9 0 1.7.1 2.5.3v6.2c-.8-.4-1.6-.6-2.5-.6-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7V8h6Z",fill:"currentColor"})})}},{key:"telegram",label:"Telegram",placeholder:b.get("telegram")?.placeholder??"@username",Icon:n.Z},{key:"linkedin",label:"LinkedIn",placeholder:b.get("linkedin")?.placeholder??"in/username",Icon:o.Z},{key:"email",label:"Email",placeholder:b.get("email")?.placeholder??"name@email.com",Icon:d.Z},{key:"phone",label:"Phone",placeholder:b.get("phone")?.placeholder??"+1 555 555 555",Icon:c.Z},{key:"x",label:"X",placeholder:b.get("x")?.placeholder??"@username",Icon:function({size:e=22,className:t=""}){return l.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:t,"aria-hidden":"true",children:l.jsx("path",{d:"M18.9 3H21l-6.6 7.6L22 21h-6.2l-4.8-6.2L5.6 21H3l7.1-8.2L2 3h6.4l4.3 5.6L18.9 3Z",fill:"currentColor"})})}},{key:"website",label:"Website",placeholder:b.get("website")?.placeholder??"your-site.com",Icon:u.Z}]},6234:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,e:()=>n});var l=a(7635);let r="https://opqsvhuzitldddvkurpd.supabase.co",i="sb_publishable_mj_UG9I9lbzanA0PUKTJ_A_Z0_0yiWs";function s(){return r&&i?(0,l.eI)(r,i):(0,l.eI)("https://placeholder.supabase.co","placeholder-anon-key")}function n(){return s()}},1091:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var l=a(3729);/**
 * @license lucide-react v0.569.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),n=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.569.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.569.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},c=(0,l.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:s="",children:n,iconNode:c,...u},h)=>(0,l.createElement)("svg",{ref:h,...o,width:t,height:t,stroke:e,strokeWidth:i?24*Number(a)/Number(t):a,className:r("lucide",s),...!n&&!d(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(n)?n:[n]])),u=(e,t)=>{let a=(0,l.forwardRef)(({className:a,...s},o)=>(0,l.createElement)(c,{ref:o,iconNode:t,className:r(`lucide-${i(n(e))}`,`lucide-${e}`,a),...s}));return a.displayName=n(e),a}},3592:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});let l=(0,a(1091).Z)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},304:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});let l=(0,a(1091).Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},3632:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});let l=(0,a(1091).Z)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},8416:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});let l=(0,a(1091).Z)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]])},1206:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});let l=(0,a(1091).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},5851:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});let l=(0,a(1091).Z)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},626:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});let l=(0,a(1091).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},6135:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});let l=(0,a(1091).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},6506:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var l=a(1476),r=a.n(l)},7731:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>s});let l=(0,a(6843).createProxy)(String.raw`/Users/majdismail/qr-app/app/edit/page.tsx`),{__esModule:r,$$typeof:i}=l,s=l.default},2917:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>r});var l=a(5036);a(7272);let r={title:"QR App",description:"Personal QR Profile"};function i({children:e}){return l.jsx("html",{lang:"en",children:l.jsx("body",{children:e})})}},7984:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(5036);function r(){return l.jsx("div",{style:{position:"fixed",inset:0,background:"#0a0a0f",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff"},children:l.jsx("span",{style:{opacity:.7},children:"Loading…"})})}},1429:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(5036),r=a(6274);function i(){return l.jsx("div",{className:"public-profile",children:(0,l.jsxs)("div",{className:"public-profile-card",children:[l.jsx("h1",{className:"public-profile-name",children:"Not found"}),l.jsx("p",{style:{margin:"0 0 1rem",color:"rgba(255,255,255,0.7)",fontSize:"0.95rem"},children:"This profile doesn’t exist or has been removed."}),l.jsx(r.default,{href:"/",className:"public-profile-button",children:"Go home"})]})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),l=t.X(0,[575,31],()=>a(3879));module.exports=l})();