(()=>{var e={};e.id=977,e.ids=[977],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9054:(e,l,r)=>{"use strict";r.r(l),r.d(l,{GlobalError:()=>s.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=r(482),i=r(9108),t=r(2563),s=r.n(t),n=r(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(l,o);let c=["",{children:["u",{children:["[username]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8649)),"/Users/majdismail/qr-app/app/u/[username]/page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,2795)),"/Users/majdismail/qr-app/app/u/[username]/loading.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"/Users/majdismail/qr-app/app/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,7984)),"/Users/majdismail/qr-app/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,1429)),"/Users/majdismail/qr-app/app/not-found.tsx"]}],d=["/Users/majdismail/qr-app/app/u/[username]/page.tsx"],p="/u/[username]/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/u/[username]/page",pathname:"/u/[username]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1066:()=>{},7258:(e,l,r)=>{Promise.resolve().then(r.bind(r,7477)),Promise.resolve().then(r.t.bind(r,1476,23))},8596:(e,l,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},6013:(e,l,r)=>{Promise.resolve().then(r.t.bind(r,1476,23))},5303:()=>{},7477:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>o});var a=r(5344),i=r(3729),t=r(6506),s=r(1219),n=r(4408);function o({profile:e,username:l,publicUrl:r}){let o=(0,i.useRef)(null),[c,d]=(0,i.useState)(!1),p=!e,u=(0,i.useCallback)(()=>{navigator.clipboard.writeText(r).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},[r]),m=(0,i.useCallback)(()=>{let e=o.current?.querySelector("svg");if(!e)return;let r=new XMLSerializer().serializeToString(e),a=document.createElement("canvas"),i=a.getContext("2d");if(!i)return;let t=new Image;t.onload=()=>{a.width=t.width,a.height=t.height,i.drawImage(t,0,0);let e=document.createElement("a");e.download=`qr-${l}.png`,e.href=a.toDataURL("image/png"),e.click()},t.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r)))},[l]),h=e?.display_name||e?.username||l||"Profile",b=e?.username||l;return a.jsx("div",{className:"publicProfileShell",children:(0,a.jsxs)("div",{className:"publicProfileCard",children:[a.jsx("div",{className:"publicProfileQRWrap",ref:o,children:a.jsx("div",{className:"publicProfileQRInner",children:a.jsx(s.ZP,{value:r,size:200,level:"M"})})}),a.jsx("h1",{className:"publicProfileTitle",children:h}),b&&(0,a.jsxs)("p",{className:"publicProfileHandle",children:["@",b]}),e?.bio?a.jsx("p",{className:"publicProfileBio",children:e.bio}):p?a.jsx("p",{className:"publicProfileEmptyMessage",children:"Profile coming soon"}):null,a.jsx("div",{className:"publicProfileLinks",children:p?n.$.slice(0,6).map(({key:e,label:l,Icon:r})=>(0,a.jsxs)("div",{className:"publicProfileLinkItem publicProfileLinkItem--disabled",children:[a.jsx("span",{className:"publicProfileLinkIcon",children:a.jsx(r,{size:20})}),a.jsx("span",{children:l}),a.jsx("span",{className:"publicProfileLinkPlaceholder",children:"Not set yet"})]},e)):null}),(0,a.jsxs)("div",{className:"publicProfileActions",children:[a.jsx("button",{type:"button",onClick:u,className:"publicProfileBtn publicProfileBtn--secondary",children:c?"Copied!":"Share"}),a.jsx("button",{type:"button",onClick:m,className:"publicProfileBtn publicProfileBtn--secondary",children:"Download QR"})]}),(0,a.jsxs)("div",{className:"publicProfileCTAs",children:[a.jsx(t.default,{href:"/auth",className:"publicProfileBtn publicProfileBtn--primary",children:"Create your own QR profile"}),a.jsx(t.default,{href:"/",className:"publicProfileBtn publicProfileBtn--ghost",children:"Back to home"})]})]})})}},4408:(e,l,r)=>{"use strict";r.d(l,{$:()=>f});var a=r(5344);r(3729);var i=r(5851),t=r(3592),s=r(3632),n=r(6135),o=r(8416),c=r(1206),d=r(626),p=r(304);let u=e=>e.replace(/^@+/,"").trim(),m=e=>e.replace(/\D/g,""),h=[{key:"phone",label:"Phone",placeholder:"+1 555 555 555",buildUrl:e=>`tel:${m(e)}`},{key:"email",label:"Email",placeholder:"name@email.com",buildUrl:e=>`mailto:${e}`},{key:"website",label:"Website",placeholder:"your-site.com",normalize:e=>e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`,buildUrl:e=>e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`},{key:"whatsapp",label:"WhatsApp",placeholder:"+9715xxxxxxx",buildUrl:e=>`https://wa.me/${m(e)}`},{key:"instagram",label:"Instagram",placeholder:"@username",normalize:u,buildUrl:e=>`https://instagram.com/${u(e)}`},{key:"facebook",label:"Facebook",placeholder:"profile name",buildUrl:e=>`https://facebook.com/${u(e)}`},{key:"telegram",label:"Telegram",placeholder:"@username",normalize:u,buildUrl:e=>`https://t.me/${u(e)}`},{key:"linkedin",label:"LinkedIn",placeholder:"in/username",buildUrl:e=>`https://linkedin.com/in/${u(e)}`},{key:"x",label:"X (Twitter)",placeholder:"@username",normalize:u,buildUrl:e=>`https://x.com/${u(e)}`},{key:"youtube",label:"YouTube",placeholder:"@channel",buildUrl:e=>e.startsWith("http")?e:`https://youtube.com/${u(e)}`},{key:"tiktok",label:"TikTok",placeholder:"@username",normalize:u,buildUrl:e=>`https://tiktok.com/@${u(e)}`},{key:"messenger",label:"Messenger",placeholder:"username",buildUrl:e=>`https://m.me/${u(e)}`},{key:"discord",label:"Discord",placeholder:"username",buildUrl:e=>`https://discord.com/users/${e}`},{key:"snapchat",label:"Snapchat",placeholder:"username",buildUrl:e=>`https://snapchat.com/add/${u(e)}`},{key:"reddit",label:"Reddit",placeholder:"u/username",buildUrl:e=>`https://reddit.com/user/${u(e)}`},{key:"signal",label:"Signal",placeholder:"number",buildUrl:e=>`https://signal.me/#p/${m(e)}`},{key:"pinterest",label:"Pinterest",placeholder:"username",buildUrl:e=>`https://pinterest.com/${u(e)}`},{key:"threads",label:"Threads",placeholder:"@username",normalize:u,buildUrl:e=>`https://www.threads.net/@${u(e)}`},{key:"viber",label:"Viber",placeholder:"number",buildUrl:e=>`viber://chat?number=${m(e)}`},{key:"line",label:"LINE",placeholder:"line id",buildUrl:e=>`https://line.me/R/ti/p/~${u(e)}`},{key:"wechat",label:"WeChat",placeholder:"wechat id",buildUrl:e=>`weixin://dl/chat?${u(e)}`}],b=new Map(h.map(e=>[e.key,e]));h.map(e=>e.key),Object.fromEntries(h.map(e=>[e.key,{label:e.label,placeholder:e.placeholder,inputType:"email"===e.key?"email":"phone"===e.key?"tel":"website"===e.key?"url":"text",urlTemplate:l=>{let r=e.normalize?e.normalize(l):l;return e.buildUrl(r)},action:"phone"===e.key?"tel":"email"===e.key?"mailto":"url"}]));let f=[{key:"whatsapp",label:"WhatsApp",placeholder:b.get("whatsapp")?.placeholder??"+9715xxxxxxx",Icon:function({size:e=22,className:l=""}){return a.jsx(i.Z,{size:e,className:l})}},{key:"facebook",label:"Facebook",placeholder:b.get("facebook")?.placeholder??"profile name",Icon:t.Z},{key:"instagram",label:"IG",placeholder:b.get("instagram")?.placeholder??"@username",Icon:s.Z},{key:"tiktok",label:"TikTok",placeholder:b.get("tiktok")?.placeholder??"@username",Icon:function({size:e=22,className:l=""}){return a.jsx("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",className:l,"aria-hidden":"true",children:a.jsx("path",{d:"M30 8c.7 6.2 5 10.2 10 10.6v5.4c-3.7-.1-7-1.3-10-3.5V31c0 7.2-5.8 13-13 13S4 38.2 4 31s5.8-13 13-13c.9 0 1.7.1 2.5.3v6.2c-.8-.4-1.6-.6-2.5-.6-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7V8h6Z",fill:"currentColor"})})}},{key:"telegram",label:"Telegram",placeholder:b.get("telegram")?.placeholder??"@username",Icon:n.Z},{key:"linkedin",label:"LinkedIn",placeholder:b.get("linkedin")?.placeholder??"in/username",Icon:o.Z},{key:"email",label:"Email",placeholder:b.get("email")?.placeholder??"name@email.com",Icon:c.Z},{key:"phone",label:"Phone",placeholder:b.get("phone")?.placeholder??"+1 555 555 555",Icon:d.Z},{key:"x",label:"X",placeholder:b.get("x")?.placeholder??"@username",Icon:function({size:e=22,className:l=""}){return a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:l,"aria-hidden":"true",children:a.jsx("path",{d:"M18.9 3H21l-6.6 7.6L22 21h-6.2l-4.8-6.2L5.6 21H3l7.1-8.2L2 3h6.4l4.3 5.6L18.9 3Z",fill:"currentColor"})})}},{key:"website",label:"Website",placeholder:b.get("website")?.placeholder??"your-site.com",Icon:p.Z}]},6506:(e,l,r)=>{"use strict";r.d(l,{default:()=>i.a});var a=r(1476),i=r.n(a)},2917:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>t,metadata:()=>i});var a=r(5036);r(7272);let i={title:"QR App",description:"Personal QR Profile"};function t({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},7984:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>i});var a=r(5036);function i(){return a.jsx("div",{style:{position:"fixed",inset:0,background:"#0a0a0f",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff"},children:a.jsx("span",{style:{opacity:.7},children:"Loading…"})})}},1429:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>t});var a=r(5036),i=r(6274);function t(){return a.jsx("div",{className:"public-profile",children:(0,a.jsxs)("div",{className:"public-profile-card",children:[a.jsx("h1",{className:"public-profile-name",children:"Not found"}),a.jsx("p",{style:{margin:"0 0 1rem",color:"rgba(255,255,255,0.7)",fontSize:"0.95rem"},children:"This profile doesn’t exist or has been removed."}),a.jsx(i.default,{href:"/",className:"public-profile-button",children:"Go home"})]})})}},2795:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>i});var a=r(5036);function i(){return a.jsx("div",{className:"publicProfileShell",children:(0,a.jsxs)("div",{className:"publicProfileCard publicProfileCard--loading",children:[a.jsx("div",{className:"publicProfileSpinner","aria-hidden":!0}),a.jsx("p",{className:"publicProfileLoadingText",children:"Loading profile…"})]})})}},8649:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>u,generateMetadata:()=>p});var a=r(5036),i=r(6274),t=r(1664);let s=(0,r(6843).createProxy)(String.raw`/Users/majdismail/qr-app/app/u/[username]/PublicProfileClient.tsx`),{__esModule:n,$$typeof:o}=s,c=s.default;function d(e){let l=process.env.NEXT_PUBLIC_APP_URL?process.env.NEXT_PUBLIC_APP_URL.replace(/\/$/,""):process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:"http://localhost:3001";return`${l}/u/${encodeURIComponent(e)}`}async function p({params:e}){let{username:l}=await e,r=(0,t.l)(),{data:a}=await r.from("profiles").select("display_name, username, bio").eq("username",l.trim()).maybeSingle(),i=a?.display_name||a?.username||l,s=a?.bio||`QR profile for @${l}`,n=d(l);return{title:`${i} | QR Profile`,description:s.slice(0,160),openGraph:{title:`${i} | QR Profile`,description:s.slice(0,160),url:n,siteName:"QR Profile"},twitter:{card:"summary_large_image",title:`${i} | QR Profile`,description:s.slice(0,160)}}}async function u({params:e}){let{username:l}=await e,r=l?.trim()||"";if(!r)return a.jsx("div",{className:"publicProfileShell",children:(0,a.jsxs)("div",{className:"publicProfileCard",children:[a.jsx("h1",{className:"publicProfileTitle",children:"Invalid link"}),a.jsx(i.default,{href:"/",className:"publicProfileBtn publicProfileBtn--primary",children:"Back to home"})]})});let s=(0,t.l)(),{data:n,error:o}=await s.from("profiles").select("id, username, display_name, bio").eq("username",r).maybeSingle();o&&console.error("[u/[username]] Supabase error:",o.message,o.code);let p=d(r);return a.jsx(c,{profile:o?null:n,username:r,publicUrl:p})}},1664:(e,l,r)=>{"use strict";r.d(l,{l:()=>s});var a=r(3950);let i="https://opqsvhuzitldddvkurpd.supabase.co",t="sb_publishable_mj_UG9I9lbzanA0PUKTJ_A_Z0_0yiWs";function s(){return i&&t?(0,a.eI)(i,t):(0,a.eI)("https://placeholder.supabase.co","placeholder-anon-key")}},7272:()=>{}};var l=require("../../../webpack-runtime.js");l.C(e);var r=e=>l(l.s=e),a=l.X(0,[575,219,357],()=>r(9054));module.exports=a})();