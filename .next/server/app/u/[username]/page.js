(()=>{var e={};e.id=977,e.ids=[977],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},9054:(e,l,a)=>{"use strict";a.r(l),a.d(l,{GlobalError:()=>s.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>p,routeModule:()=>m,tree:()=>c});var i=a(482),r=a(9108),t=a(2563),s=a.n(t),n=a(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(l,o);let c=["",{children:["u",{children:["[username]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7126)),"/Users/majdismail/qr-app/app/u/[username]/page.tsx"]}]},{loading:[()=>Promise.resolve().then(a.bind(a,2795)),"/Users/majdismail/qr-app/app/u/[username]/loading.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,2917)),"/Users/majdismail/qr-app/app/layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,7984)),"/Users/majdismail/qr-app/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,1429)),"/Users/majdismail/qr-app/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/majdismail/qr-app/app/u/[username]/page.tsx"],d="/u/[username]/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/u/[username]/page",pathname:"/u/[username]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1066:()=>{},9081:(e,l,a)=>{Promise.resolve().then(a.bind(a,9656))},8596:(e,l,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},6013:(e,l,a)=>{Promise.resolve().then(a.t.bind(a,1476,23))},5303:()=>{},9656:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>c});var i=a(5344),r=a(3729),t=a(6506),s=a(1219),n=a(4408);function o(e){return e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/\n/g,"\\n").replace(/\r/g,"")}function c({profile:e,username:l,publicUrl:a,invalidLink:c,contactFields:p={},profileUrl:d}){let u=(0,r.useRef)(null),[m,h]=(0,r.useState)(!1),b=!e||c,f=(0,r.useCallback)(()=>{navigator.clipboard.writeText(a).then(()=>{h(!0),setTimeout(()=>h(!1),2e3)})},[a]),x=(0,r.useCallback)(()=>{let e=u.current?.querySelector("svg");if(!e)return;let l=new XMLSerializer().serializeToString(e),a=document.createElement("canvas"),i=a.getContext("2d");if(!i)return;let r=new Image;r.onload=()=>{a.width=r.width,a.height=r.height,i.drawImage(r,0,0);let e=document.createElement("a");e.download=g,e.href=a.toDataURL("image/png"),e.click()},r.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(l)))},[c,l]),g=c?"qr-home.png":`qr-${l}.png`,k=c?"Invalid link":e?.display_name||e?.username||l||"Profile",y=c?void 0:e?.username||l,v=p?.phone||p?.email||p?.whatsapp||p?.website,P=(0,r.useCallback)(()=>{!function(e,l="contact.vcf"){let a=function(e){let l=["BEGIN:VCARD","VERSION:3.0"],a=[e.displayName||e.username||"Contact"].filter(Boolean).join(" ");l.push(`FN:${o(a)}`);let i=(e.displayName||e.username||"").replace(/\s+/,";");return i&&l.push(`N:${o(i)};;;`),e.phone&&l.push(`TEL;TYPE=CELL:${o(e.phone)}`),e.email&&l.push(`EMAIL:${o(e.email)}`),e.whatsapp&&l.push(`TEL;TYPE=WhatsApp:${o(e.whatsapp)}`),e.website&&l.push(`URL:${o(e.website)}`),e.url&&l.push(`URL:${o(e.url)}`),e.bio&&l.push(`NOTE:${o(e.bio)}`),l.push("END:VCARD"),l.join("\r\n")}(e),i=new Blob([a],{type:"text/vcard;charset=utf-8"}),r=document.createElement("a");r.href=URL.createObjectURL(i),r.download=l.endsWith(".vcf")?l:`${l}.vcf`,r.click(),URL.revokeObjectURL(r.href)}({displayName:e?.display_name||e?.username||l,username:y?`@${y}`:null,bio:e?.bio??void 0,phone:p?.phone??void 0,email:p?.email??void 0,whatsapp:p?.whatsapp??void 0,website:p?.website??void 0,url:d??a},`${l||"contact"}.vcf`)},[e,l,y,p,d,a]);return i.jsx("div",{className:"publicProfileShell",children:(0,i.jsxs)("div",{className:"publicProfileCard",children:[i.jsx("div",{className:"publicProfileQRWrap",ref:u,children:i.jsx("div",{className:"publicProfileQRInner",children:i.jsx(s.ZP,{value:a,size:200,level:"M"})})}),i.jsx("h1",{className:"publicProfileTitle",children:k}),y&&(0,i.jsxs)("p",{className:"publicProfileHandle",children:["@",y]}),!c&&e?.bio?i.jsx("p",{className:"publicProfileBio",children:e.bio}):b?i.jsx("p",{className:"publicProfileEmptyMessage",children:c?"This link isn’t valid. Use the QR to go home or create your profile.":"Profile coming soon"}):null,i.jsx("div",{className:"publicProfileLinks",children:b&&!c?n.$.slice(0,6).map(({key:e,label:l,Icon:a})=>(0,i.jsxs)("div",{className:"publicProfileLinkItem publicProfileLinkItem--disabled",children:[i.jsx("span",{className:"publicProfileLinkIcon",children:i.jsx(a,{size:20})}),i.jsx("span",{children:l}),i.jsx("span",{className:"publicProfileLinkPlaceholder",children:"Not set yet"})]},e)):null}),v&&(0,i.jsxs)("div",{className:"publicProfileLinks",children:[p?.phone&&(0,i.jsxs)("a",{href:`tel:${p.phone}`,className:"publicProfileLinkItem",children:[i.jsx("span",{className:"publicProfileLinkIcon",children:"\uD83D\uDCDE"}),i.jsx("span",{children:"Phone"})]}),p?.email&&(0,i.jsxs)("a",{href:`mailto:${p.email}`,className:"publicProfileLinkItem",children:[i.jsx("span",{className:"publicProfileLinkIcon",children:"✉️"}),i.jsx("span",{children:"Email"})]}),p?.whatsapp&&(0,i.jsxs)("a",{href:`https://wa.me/${p.whatsapp.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"publicProfileLinkItem",children:[i.jsx("span",{className:"publicProfileLinkIcon",children:"WhatsApp"}),i.jsx("span",{children:"WhatsApp"})]}),p?.website&&(0,i.jsxs)("a",{href:p.website.startsWith("http")?p.website:`https://${p.website}`,target:"_blank",rel:"noopener noreferrer",className:"publicProfileLinkItem",children:[i.jsx("span",{className:"publicProfileLinkIcon",children:"\uD83C\uDF10"}),i.jsx("span",{children:"Website"})]})]}),(0,i.jsxs)("div",{className:"publicProfileActions",children:[i.jsx("button",{type:"button",onClick:f,className:"publicProfileBtn publicProfileBtn--secondary",children:m?"Copied!":"Share"}),i.jsx("button",{type:"button",onClick:x,className:"publicProfileBtn publicProfileBtn--secondary",children:"Download QR"}),v&&i.jsx("button",{type:"button",onClick:P,className:"publicProfileBtn publicProfileBtn--secondary",children:"Save Contact"})]}),(0,i.jsxs)("div",{className:"publicProfileCTAs",children:[i.jsx(t.default,{href:"/auth",className:"publicProfileBtn publicProfileBtn--primary",children:"Create your own QR profile"}),i.jsx(t.default,{href:"/",className:"publicProfileBtn publicProfileBtn--ghost",children:"Back to home"})]})]})})}},4408:(e,l,a)=>{"use strict";a.d(l,{$:()=>f});var i=a(5344);a(3729);var r=a(5851),t=a(3592),s=a(3632),n=a(6135),o=a(8416),c=a(1206),p=a(626),d=a(304);let u=e=>e.replace(/^@+/,"").trim(),m=e=>e.replace(/\D/g,""),h=[{key:"phone",label:"Phone",placeholder:"+1 555 555 555",buildUrl:e=>`tel:${m(e)}`},{key:"email",label:"Email",placeholder:"name@email.com",buildUrl:e=>`mailto:${e}`},{key:"website",label:"Website",placeholder:"your-site.com",normalize:e=>e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`,buildUrl:e=>e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`},{key:"whatsapp",label:"WhatsApp",placeholder:"+9715xxxxxxx",buildUrl:e=>`https://wa.me/${m(e)}`},{key:"instagram",label:"Instagram",placeholder:"@username",normalize:u,buildUrl:e=>`https://instagram.com/${u(e)}`},{key:"facebook",label:"Facebook",placeholder:"profile name",buildUrl:e=>`https://facebook.com/${u(e)}`},{key:"telegram",label:"Telegram",placeholder:"@username",normalize:u,buildUrl:e=>`https://t.me/${u(e)}`},{key:"linkedin",label:"LinkedIn",placeholder:"in/username",buildUrl:e=>`https://linkedin.com/in/${u(e)}`},{key:"x",label:"X (Twitter)",placeholder:"@username",normalize:u,buildUrl:e=>`https://x.com/${u(e)}`},{key:"youtube",label:"YouTube",placeholder:"@channel",buildUrl:e=>e.startsWith("http")?e:`https://youtube.com/${u(e)}`},{key:"tiktok",label:"TikTok",placeholder:"@username",normalize:u,buildUrl:e=>`https://tiktok.com/@${u(e)}`},{key:"messenger",label:"Messenger",placeholder:"username",buildUrl:e=>`https://m.me/${u(e)}`},{key:"discord",label:"Discord",placeholder:"username",buildUrl:e=>`https://discord.com/users/${e}`},{key:"snapchat",label:"Snapchat",placeholder:"username",buildUrl:e=>`https://snapchat.com/add/${u(e)}`},{key:"reddit",label:"Reddit",placeholder:"u/username",buildUrl:e=>`https://reddit.com/user/${u(e)}`},{key:"signal",label:"Signal",placeholder:"number",buildUrl:e=>`https://signal.me/#p/${m(e)}`},{key:"pinterest",label:"Pinterest",placeholder:"username",buildUrl:e=>`https://pinterest.com/${u(e)}`},{key:"threads",label:"Threads",placeholder:"@username",normalize:u,buildUrl:e=>`https://www.threads.net/@${u(e)}`},{key:"viber",label:"Viber",placeholder:"number",buildUrl:e=>`viber://chat?number=${m(e)}`},{key:"line",label:"LINE",placeholder:"line id",buildUrl:e=>`https://line.me/R/ti/p/~${u(e)}`},{key:"wechat",label:"WeChat",placeholder:"wechat id",buildUrl:e=>`weixin://dl/chat?${u(e)}`}],b=new Map(h.map(e=>[e.key,e]));h.map(e=>e.key),Object.fromEntries(h.map(e=>[e.key,{label:e.label,placeholder:e.placeholder,inputType:"email"===e.key?"email":"phone"===e.key?"tel":"website"===e.key?"url":"text",urlTemplate:l=>{let a=e.normalize?e.normalize(l):l;return e.buildUrl(a)},action:"phone"===e.key?"tel":"email"===e.key?"mailto":"url"}]));let f=[{key:"whatsapp",label:"WhatsApp",placeholder:b.get("whatsapp")?.placeholder??"+9715xxxxxxx",Icon:function({size:e=22,className:l=""}){return i.jsx(r.Z,{size:e,className:l})}},{key:"facebook",label:"Facebook",placeholder:b.get("facebook")?.placeholder??"profile name",Icon:t.Z},{key:"instagram",label:"IG",placeholder:b.get("instagram")?.placeholder??"@username",Icon:s.Z},{key:"tiktok",label:"TikTok",placeholder:b.get("tiktok")?.placeholder??"@username",Icon:function({size:e=22,className:l=""}){return i.jsx("svg",{width:e,height:e,viewBox:"0 0 48 48",fill:"none",className:l,"aria-hidden":"true",children:i.jsx("path",{d:"M30 8c.7 6.2 5 10.2 10 10.6v5.4c-3.7-.1-7-1.3-10-3.5V31c0 7.2-5.8 13-13 13S4 38.2 4 31s5.8-13 13-13c.9 0 1.7.1 2.5.3v6.2c-.8-.4-1.6-.6-2.5-.6-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7V8h6Z",fill:"currentColor"})})}},{key:"telegram",label:"Telegram",placeholder:b.get("telegram")?.placeholder??"@username",Icon:n.Z},{key:"linkedin",label:"LinkedIn",placeholder:b.get("linkedin")?.placeholder??"in/username",Icon:o.Z},{key:"email",label:"Email",placeholder:b.get("email")?.placeholder??"name@email.com",Icon:c.Z},{key:"phone",label:"Phone",placeholder:b.get("phone")?.placeholder??"+1 555 555 555",Icon:p.Z},{key:"x",label:"X",placeholder:b.get("x")?.placeholder??"@username",Icon:function({size:e=22,className:l=""}){return i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:l,"aria-hidden":"true",children:i.jsx("path",{d:"M18.9 3H21l-6.6 7.6L22 21h-6.2l-4.8-6.2L5.6 21H3l7.1-8.2L2 3h6.4l4.3 5.6L18.9 3Z",fill:"currentColor"})})}},{key:"website",label:"Website",placeholder:b.get("website")?.placeholder??"your-site.com",Icon:d.Z}]},6506:(e,l,a)=>{"use strict";a.d(l,{default:()=>r.a});var i=a(1476),r=a.n(i)},2917:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>s,metadata:()=>t});var i=a(5036);a(7272);let r="Create a personal QR profile. Share socials and contact details in one scan.",t={title:"SmartQR",description:r,openGraph:{title:"SmartQR",description:r,type:"website"},twitter:{card:"summary_large_image",title:"SmartQR",description:r}};function s({children:e}){return i.jsx("html",{lang:"en",children:i.jsx("body",{children:e})})}},7984:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>r});var i=a(5036);function r(){return i.jsx("div",{style:{position:"fixed",inset:0,background:"#0a0a0f",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff"},children:i.jsx("span",{style:{opacity:.7},children:"Loading…"})})}},1429:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>t});var i=a(5036),r=a(6274);function t(){return i.jsx("div",{className:"public-profile",children:(0,i.jsxs)("div",{className:"public-profile-card",children:[i.jsx("h1",{className:"public-profile-name",children:"Not found"}),i.jsx("p",{style:{margin:"0 0 1rem",color:"rgba(255,255,255,0.7)",fontSize:"0.95rem"},children:"This profile doesn’t exist or has been removed."}),i.jsx(r.default,{href:"/",className:"public-profile-button",children:"Go home"})]})})}},2795:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>r});var i=a(5036);function r(){return i.jsx("div",{className:"publicProfileShell",children:(0,i.jsxs)("div",{className:"publicProfileCard publicProfileCard--loading",children:[i.jsx("div",{className:"publicProfileSpinner","aria-hidden":!0}),i.jsx("p",{className:"publicProfileLoadingText",children:"Loading profile…"})]})})}},7126:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>u,generateMetadata:()=>d});var i=a(5036),r=a(1664),t=a(9168);let s=(0,a(6843).createProxy)(String.raw`/Users/majdismail/qr-app/app/u/[username]/PublicProfileClient.tsx`),{__esModule:n,$$typeof:o}=s,c=s.default;function p(e){let l=(0,t.S)();return`${l}/u/${encodeURIComponent(e)}`}async function d({params:e}){let{username:l}=await e,a=(l??"").trim(),i=(0,r.l)(),{data:t}=await i.from("profiles").select("display_name, username, bio").eq("username",a).maybeSingle(),s=t?.display_name||t?.username||a||"Profile",n=t?.bio||`QR profile for @${a}`,o=a?p(a):"";return{title:`${s} | QR Profile`,description:n.slice(0,160),openGraph:{title:`${s} | QR Profile`,description:n.slice(0,160),url:o,siteName:"QR Profile"},twitter:{card:"summary_large_image",title:`${s} | QR Profile`,description:n.slice(0,160)}}}async function u({params:e}){let{username:l}=await e,a=l?.trim()||"";if(!a){let e=(0,t.S)()+"/";return i.jsx(c,{profile:null,username:"",publicUrl:e,invalidLink:!0})}let s=(0,r.l)(),{data:n,error:o}=await s.from("profiles").select("id, username, display_name, bio, phone, email, whatsapp, website, phone_public, email_public, whatsapp_public, email_verified").eq("username",a).maybeSingle();o&&console.error("[u/[username]] Supabase error:",o.message,o.code);let d=p(a),u=!!n?.email_verified,m={};n&&u?(n.phone_public&&n.phone&&(m.phone=n.phone),n.email_public&&n.email&&(m.email=n.email),n.whatsapp_public&&n.whatsapp&&(m.whatsapp=n.whatsapp),n.website&&(m.website=n.website)):n&&n.website&&(m.website=n.website);let h=n?{id:n.id,username:n.username,display_name:n.display_name,bio:n.bio}:null;return i.jsx(c,{profile:o?null:h,username:a,publicUrl:d,contactFields:m,profileUrl:d})}},9168:(e,l,a)=>{"use strict";function i(){let e="undefined"!=typeof process&&process.env.NEXT_PUBLIC_APP_URL?String(process.env.NEXT_PUBLIC_APP_URL).replace(/\/$/,""):"";return e&&e.startsWith("http")?e:"undefined"!=typeof process&&process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:"http://localhost:3001"}a.d(l,{S:()=>i})},1664:(e,l,a)=>{"use strict";a.d(l,{l:()=>s});var i=a(3950);let r="https://opqsvhuzitldddvkurpd.supabase.co",t="sb_publishable_mj_UG9I9lbzanA0PUKTJ_A_Z0_0yiWs";function s(){return r&&t?(0,i.eI)(r,t):(0,i.eI)("https://placeholder.supabase.co","placeholder-anon-key")}},4697:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>r});var i=a(337);let r=e=>[{type:"image/svg+xml",sizes:"any",url:(0,i.fillMetadataSegment)(".",e.params,"icon.svg")+"?275df9e4a6742c93"}]},7272:()=>{}};var l=require("../../../webpack-runtime.js");l.C(e);var a=e=>l(l.s=e),i=l.X(0,[638,753,219,357],()=>a(9054));module.exports=i})();